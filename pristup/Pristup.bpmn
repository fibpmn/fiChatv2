<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1aog56z" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.0.0">
  <bpmn:collaboration id="PristupAplikaciji">
    <bpmn:participant id="Sudionik1" name="Sveučilište Jurja Dobrile u Puli" processRef="ProcesAutentifikacije" />
    <bpmn:textAnnotation id="TextAnnotation_0fq60xa">
      <bpmn:text>Nastavi kao student, već registrirani korisnik</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1kyhhft" sourceRef="UnesiAutentifikacijskePodatke" targetRef="TextAnnotation_0fq60xa" />
  </bpmn:collaboration>
  <bpmn:process id="ProcesAutentifikacije" isExecutable="true">
    <bpmn:laneSet id="LaneSet_0shq5x7">
      <bpmn:lane id="Korisnik_Lane" name="Korisnik">
        <bpmn:flowNodeRef>VrstaKorisnika_SplitGateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>VrstaKorisnika_JoinGateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_18hji16</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>NastaviKaoAnonimniKorisnik</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>RegistrirajSe</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>UnesiAutentifikacijskePodatke</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>OdaberiPristupAplikaciji</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Chatbot_Lane" name="Chatbot">
        <bpmn:flowNodeRef>ChatbotObradaPodataka</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>VrsteRole_SplitGateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>VrsteRole_JoinGateway</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1bc24w5</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0tj6p9l</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:exclusiveGateway id="VrstaKorisnika_SplitGateway" name="Vrsta korisnika?">
      <bpmn:incoming>Flow_0qv2si2</bpmn:incoming>
      <bpmn:outgoing>Registrirani_Flow1</bpmn:outgoing>
      <bpmn:outgoing>Neregistrirani_Flow1</bpmn:outgoing>
      <bpmn:outgoing>Anonimni_Flow1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="VrstaKorisnika_JoinGateway">
      <bpmn:incoming>Registrirani_Flow2</bpmn:incoming>
      <bpmn:incoming>Neregistrirani_Flow2</bpmn:incoming>
      <bpmn:incoming>Anonimni_Flow2</bpmn:incoming>
      <bpmn:outgoing>Flow_0eu3gmt</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_18hji16" name="Odabir procesa">
      <bpmn:incoming>Flow_1kzzg7e</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:startEvent id="StartEvent_1" name="Ulaz u aplikaciju">
      <bpmn:outgoing>Flow_1ythpqr</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="ChatbotObradaPodataka" name="Obradi podatke" camunda:type="external" camunda:topic="alltheprocedures">
      <bpmn:incoming>Flow_0eu3gmt</bpmn:incoming>
      <bpmn:outgoing>ObradaPodataka_Flow</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="VrsteRole_SplitGateway" name="Rola?">
      <bpmn:incoming>ObradaPodataka_Flow</bpmn:incoming>
      <bpmn:outgoing>Anonimni_Flow3</bpmn:outgoing>
      <bpmn:outgoing>Registrirani_Flow3</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="VrsteRole_JoinGateway">
      <bpmn:incoming>Registrirani_Flow4</bpmn:incoming>
      <bpmn:incoming>Anonimni_Flow4</bpmn:incoming>
      <bpmn:outgoing>Flow_1kzzg7e</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Activity_1bc24w5" name="Prikaži dostupne opcije" camunda:type="external" camunda:topic="pozoviapi">
      <bpmn:incoming>Registrirani_Flow3</bpmn:incoming>
      <bpmn:outgoing>Registrirani_Flow4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0tj6p9l" name="Prikaži dostupne opcije" camunda:type="external" camunda:topic="pozoviapi">
      <bpmn:incoming>Anonimni_Flow3</bpmn:incoming>
      <bpmn:outgoing>Anonimni_Flow4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:manualTask id="NastaviKaoAnonimniKorisnik" name="Nastavi kao anonimni korisnik">
      <bpmn:incoming>Anonimni_Flow1</bpmn:incoming>
      <bpmn:outgoing>Anonimni_Flow2</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:userTask id="RegistrirajSe" name="Registriraj se" camunda:candidateGroups="Neregistrirani">
      <bpmn:incoming>Neregistrirani_Flow1</bpmn:incoming>
      <bpmn:outgoing>Neregistrirani_Flow2</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UnesiAutentifikacijskePodatke" name="Unesi autentikacijske podatke" camunda:candidateGroups="Registrirani">
      <bpmn:incoming>Registrirani_Flow1</bpmn:incoming>
      <bpmn:outgoing>Registrirani_Flow2</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="OdaberiPristupAplikaciji" name="Odaberi pristup aplikaciji" camunda:formKey="tojetaforma" camunda:candidateGroups="Registrirani, Neregistrirani, Anonimni">
      <bpmn:incoming>Flow_1ythpqr</bpmn:incoming>
      <bpmn:outgoing>Flow_0qv2si2</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1ythpqr" sourceRef="StartEvent_1" targetRef="OdaberiPristupAplikaciji" />
    <bpmn:sequenceFlow id="Flow_0qv2si2" sourceRef="OdaberiPristupAplikaciji" targetRef="VrstaKorisnika_SplitGateway" />
    <bpmn:sequenceFlow id="Registrirani_Flow1" name="Registrirani" sourceRef="VrstaKorisnika_SplitGateway" targetRef="UnesiAutentifikacijskePodatke">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Registrirani == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Neregistrirani_Flow1" name="Neregistrirani" sourceRef="VrstaKorisnika_SplitGateway" targetRef="RegistrirajSe">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Neregistrirani == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Anonimni_Flow1" name="Anonimni" sourceRef="VrstaKorisnika_SplitGateway" targetRef="NastaviKaoAnonimniKorisnik">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${Anonimni == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Registrirani_Flow2" sourceRef="UnesiAutentifikacijskePodatke" targetRef="VrstaKorisnika_JoinGateway" />
    <bpmn:sequenceFlow id="Neregistrirani_Flow2" sourceRef="RegistrirajSe" targetRef="VrstaKorisnika_JoinGateway" />
    <bpmn:sequenceFlow id="Anonimni_Flow2" sourceRef="NastaviKaoAnonimniKorisnik" targetRef="VrstaKorisnika_JoinGateway" />
    <bpmn:sequenceFlow id="ObradaPodataka_Flow" sourceRef="ChatbotObradaPodataka" targetRef="VrsteRole_SplitGateway" />
    <bpmn:sequenceFlow id="Anonimni_Flow3" name="Anonimni" sourceRef="VrsteRole_SplitGateway" targetRef="Activity_0tj6p9l">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" />
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Registrirani_Flow3" name="Registrirani" sourceRef="VrsteRole_SplitGateway" targetRef="Activity_1bc24w5">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${ registrirani }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Registrirani_Flow4" sourceRef="Activity_1bc24w5" targetRef="VrsteRole_JoinGateway" />
    <bpmn:sequenceFlow id="Anonimni_Flow4" sourceRef="Activity_0tj6p9l" targetRef="VrsteRole_JoinGateway" />
    <bpmn:sequenceFlow id="Flow_0eu3gmt" sourceRef="VrstaKorisnika_JoinGateway" targetRef="ChatbotObradaPodataka" />
    <bpmn:sequenceFlow id="Flow_1kzzg7e" sourceRef="VrsteRole_JoinGateway" targetRef="Event_18hji16" />
    <bpmn:textAnnotation id="TextAnnotation_1lphr6o">
      <bpmn:text>Promjena role iz anonimnog korisnika u rolu studenta</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_01v80or">
      <bpmn:text>Ovisno o roli, prikaži procese</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1jxdi3f">
      <bpmn:text>Ovisno o korisniku, dohvati otvorene/zatvorene procese, profil</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1pj6cw2" sourceRef="RegistrirajSe" targetRef="TextAnnotation_1lphr6o" />
    <bpmn:association id="Association_1g07zwc" sourceRef="ChatbotObradaPodataka" targetRef="TextAnnotation_01v80or" />
    <bpmn:association id="Association_0ocup5p" sourceRef="ChatbotObradaPodataka" targetRef="TextAnnotation_1jxdi3f" />
  </bpmn:process>
  <bpmn:error id="Error_0u48lco" name="ErrorPrikazanaOpcija" errorCode="EC2" camunda:errorMessage="Opcije nisu prikazane" />
  <bpmn:error id="Error_0y0ul5l" name="ErrorAutentifikacija" errorCode="EC1" camunda:errorMessage="Autentifikacija nije uspjela" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="PristupAplikaciji">
      <bpmndi:BPMNShape id="Participant_0hatj0f_di" bpmnElement="Sudionik1" isHorizontal="true">
        <dc:Bounds x="152" y="180" width="2158" height="792" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_09a3upj_di" bpmnElement="Chatbot_Lane" isHorizontal="true">
        <dc:Bounds x="182" y="540" width="2128" height="432" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_13b63bz_di" bpmnElement="Korisnik_Lane" isHorizontal="true">
        <dc:Bounds x="182" y="180" width="2128" height="360" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1kzzg7e_di" bpmnElement="Flow_1kzzg7e">
        <di:waypoint x="1725" y="740" />
        <di:waypoint x="1830" y="740" />
        <di:waypoint x="1830" y="360" />
        <di:waypoint x="1972" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0eu3gmt_di" bpmnElement="Flow_0eu3gmt">
        <di:waypoint x="1015" y="360" />
        <di:waypoint x="1080" y="360" />
        <di:waypoint x="1080" y="740" />
        <di:waypoint x="1220" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1nqn0l3_di" bpmnElement="Anonimni_Flow4">
        <di:waypoint x="1620" y="630" />
        <di:waypoint x="1700" y="630" />
        <di:waypoint x="1700" y="715" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qxwk15_di" bpmnElement="Registrirani_Flow4">
        <di:waypoint x="1620" y="850" />
        <di:waypoint x="1700" y="850" />
        <di:waypoint x="1700" y="765" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vigjzx_di" bpmnElement="Registrirani_Flow3">
        <di:waypoint x="1420" y="765" />
        <di:waypoint x="1420" y="850" />
        <di:waypoint x="1520" y="850" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1429" y="823" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08uyjh4_di" bpmnElement="Anonimni_Flow3">
        <di:waypoint x="1420" y="715" />
        <di:waypoint x="1420" y="630" />
        <di:waypoint x="1520" y="630" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1435" y="603" width="46" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ozwx86_di" bpmnElement="ObradaPodataka_Flow">
        <di:waypoint x="1320" y="740" />
        <di:waypoint x="1395" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ke2g5z_di" bpmnElement="Anonimni_Flow2">
        <di:waypoint x="850" y="360" />
        <di:waypoint x="965" y="360" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="890" y="232" width="36" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ik5hm9_di" bpmnElement="Neregistrirani_Flow2">
        <di:waypoint x="850" y="480" />
        <di:waypoint x="990" y="480" />
        <di:waypoint x="990" y="385" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hau0r8_di" bpmnElement="Registrirani_Flow2">
        <di:waypoint x="850" y="240" />
        <di:waypoint x="990" y="240" />
        <di:waypoint x="990" y="335" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p7bzmr_di" bpmnElement="Anonimni_Flow1">
        <di:waypoint x="635" y="360" />
        <di:waypoint x="750" y="360" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="670" y="342" width="46" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1sznyuf_di" bpmnElement="Neregistrirani_Flow1">
        <di:waypoint x="610" y="385" />
        <di:waypoint x="610" y="480" />
        <di:waypoint x="750" y="480" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="661" y="453" width="66" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0b9qi88_di" bpmnElement="Registrirani_Flow1">
        <di:waypoint x="610" y="335" />
        <di:waypoint x="610" y="240" />
        <di:waypoint x="750" y="240" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="666" y="223" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qv2si2_di" bpmnElement="Flow_0qv2si2">
        <di:waypoint x="500" y="360" />
        <di:waypoint x="585" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ythpqr_di" bpmnElement="Flow_1ythpqr">
        <di:waypoint x="318" y="360" />
        <di:waypoint x="400" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Gateway_1a20tds_di" bpmnElement="VrstaKorisnika_SplitGateway" isMarkerVisible="true">
        <dc:Bounds x="585" y="335" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="521" y="383" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_03eb7jw_di" bpmnElement="VrstaKorisnika_JoinGateway" isMarkerVisible="true">
        <dc:Bounds x="965" y="335" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18hji16_di" bpmnElement="Event_18hji16">
        <dc:Bounds x="1972" y="342" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1952" y="385" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="282" y="342" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="260" y="385" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_059paew_di" bpmnElement="ChatbotObradaPodataka">
        <dc:Bounds x="1220" y="700" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_16m2o7v_di" bpmnElement="VrsteRole_SplitGateway" isMarkerVisible="true">
        <dc:Bounds x="1395" y="715" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1455" y="733" width="30" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1yfah64_di" bpmnElement="VrsteRole_JoinGateway" isMarkerVisible="true">
        <dc:Bounds x="1675" y="715" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0bft9y8_di" bpmnElement="Activity_1bc24w5">
        <dc:Bounds x="1520" y="810" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_103hzhw_di" bpmnElement="Activity_0tj6p9l">
        <dc:Bounds x="1520" y="590" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1m07dml_di" bpmnElement="NastaviKaoAnonimniKorisnik">
        <dc:Bounds x="750" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0p1paoe_di" bpmnElement="RegistrirajSe">
        <dc:Bounds x="750" y="440" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_05fye63_di" bpmnElement="UnesiAutentifikacijskePodatke">
        <dc:Bounds x="750" y="200" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0lu78rl_di" bpmnElement="OdaberiPristupAplikaciji">
        <dc:Bounds x="400" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1lphr6o_di" bpmnElement="TextAnnotation_1lphr6o">
        <dc:Bounds x="690" y="590" width="99.99999794078421" height="67.47638326585695" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_01v80or_di" bpmnElement="TextAnnotation_01v80or">
        <dc:Bounds x="1100" y="810" width="99.99999794078421" height="40.48582995951417" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1jxdi3f_di" bpmnElement="TextAnnotation_1jxdi3f">
        <dc:Bounds x="1240" y="830" width="99.99999880417013" height="95.61128526645768" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1pj6cw2_di" bpmnElement="Association_1pj6cw2">
        <di:waypoint x="781" y="520" />
        <di:waypoint x="747" y="590" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1g07zwc_di" bpmnElement="Association_1g07zwc">
        <di:waypoint x="1221" y="775" />
        <di:waypoint x="1171" y="810" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0ocup5p_di" bpmnElement="Association_0ocup5p">
        <di:waypoint x="1278" y="780" />
        <di:waypoint x="1287" y="830" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_0fq60xa_di" bpmnElement="TextAnnotation_0fq60xa">
        <dc:Bounds x="950" y="80" width="99.99999880417013" height="67.39811912225706" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1kyhhft_di" bpmnElement="Association_1kyhhft">
        <di:waypoint x="849" y="205" />
        <di:waypoint x="950" y="131" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
